@*
    Analysis Step (Step 4) - Workflow Grid Item
*@
<div class="workflow-grid-item" data-step="4">
    <div class="workflow-grid-item-header">
        <span>üîç</span>
        Analysis
    </div>
    <div class="workflow-grid-item-content">
        <div class="workflow-form-check">
            <input class="workflow-form-check-input" type="radio" name="analysisType" id="uncommittedChanges" value="uncommitted" checked>
            <label class="workflow-form-check-label" for="uncommittedChanges">
                Uncommitted Changes
            </label>
        </div>
        <div class="workflow-form-check">
            <input class="workflow-form-check-input" type="radio" name="analysisType" id="stagedChanges" value="staged">
            <label class="workflow-form-check-label" for="stagedChanges">
                Staged Changes Only
            </label>
        </div>
        <div class="workflow-form-check">
            <input class="workflow-form-check-input" type="radio" name="analysisType" id="specificCommit" value="commit">
            <label class="workflow-form-check-label" for="specificCommit">
                Specific Commit
            </label>
        </div>
        <div class="workflow-form-check">
            <input class="workflow-form-check-input" type="radio" name="analysisType" id="singleFile" value="singlefile">
            <label class="workflow-form-check-label" for="singleFile">
                Single File
            </label>
        </div>
        <div class="mt-2" id="commitIdContainer" style="display: none;">
            <div class="workflow-input-group">
                <input type="text" class="workflow-form-control" id="commitId" name="commitId"
                       placeholder="Enter commit ID (full or partial hash)">
                <button class="workflow-btn workflow-btn-secondary" type="button" id="validateCommit">Validate</button>
            </div>
            <div id="commitValidationResult" class="workflow-form-text"></div>
        </div>
        <div class="mt-2" id="filePickerContainer" style="display: none;">
            <div class="workflow-input-group">
                <input type="text" class="workflow-form-control" id="filePath" name="filePath"
                       placeholder="Enter full file path (e.g., C:\path\to\file.py or /path/to/file.py)"
                       style="transition: background-color 0.3s, border-color 0.3s;">
                <button class="workflow-btn workflow-btn-secondary" type="button" id="browseFile">Browse</button>
                <input type="file" id="fileInput" accept=".cs,.js,.py" style="display: none;">
            </div>
            <div id="fileValidationResult" class="workflow-form-text"></div>
            <small class="workflow-text-muted">
                <strong>Note:</strong> Due to browser security, file browsing only provides the filename.
                Please enter the <strong>full file path</strong> manually or use the repository-relative path.
                Supported types: .cs (C#), .js (JavaScript), .py (Python)
            </small>
        </div>
    </div>
</div>